{"version":3,"sources":["webpack://netlify-cms-widget-image/webpack/universalModuleDefinition","webpack://netlify-cms-widget-image/webpack/bootstrap","webpack://netlify-cms-widget-image/external \"react\"","webpack://netlify-cms-widget-image/external \"immutable\"","webpack://netlify-cms-widget-image/external \"prop-types\"","webpack://netlify-cms-widget-image/external \"react-emotion\"","webpack://netlify-cms-widget-image/external \"netlify-cms-ui-default\"","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/webpack/universalModuleDefinition","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/webpack/bootstrap","webpack://netlify-cms-widget-image/webpack:/netlify-cms-widget-file/external \"react\"","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/Users/erquhart/code/gh/netlify/netlify-cms/node_modules/uuid/v4.js","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/Users/erquhart/code/gh/netlify/netlify-cms/node_modules/uuid/lib/rng-browser.js","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/Users/erquhart/code/gh/netlify/netlify-cms/node_modules/uuid/lib/bytesToUuid.js","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/src/withFileControl.js","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/src/FilePreview.js","webpack://netlify-cms-widget-image/webpack://netlify-cms-widget-file/src/index.js","webpack://netlify-cms-widget-image//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js","webpack://netlify-cms-widget-image/./src/ImagePreview.js","webpack://netlify-cms-widget-image/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","bytesToUuid","buf","options","a","random","rng","rnds","ii","crypto","getRandomValues","msCrypto","Uint8Array","Array","Math","byteToHex","bth","MAX_DISPLAY_LENGTH","ImageWrapper","external_react_emotion_default","target","Image","external_netlify_cms_ui_default_","borderRadius","MultiImageWrapper","FileInfo","FileLink","FileLinkList","FileWidgetButton","button","badge","FileWidgetButtonRemove","badgeDanger","isMultiple","isArray","external_immutable_","isList","withFileControl","forImage","external_react_default","Component","constructor","props","super","_defineProperty","this","field","onOpenMediaLibrary","preventDefault","controlID","privateUpload","config","getIn","onClearMediaControl","onChange","size","length","text","substring","href","rel","map","val","renderFileLink","getAsset","src","subject","renderImages","renderFileLinks","onClick","handleChange","handleRemove","article","v4_default","shouldComponentUpdate","nextProps","mediaPath","mediaPaths","componentDidUpdate","onRemoveInsertedMedia","componentWillUnmount","onRemoveMediaControl","render","classNameWrapper","className","renderSelection","renderNoSelection","g","external_prop_types_default","isRequired","func","external_react_immutable_proptypes_default","onAddAsset","string","oneOfType","arrayOf","FilePreview_FileLink","FilePreview_FileLinkList","values","FileContent","FilePreview","propTypes","node","D","M","O","E","src_FileControl","Immutable","ANONYMOUS","ImmutablePropTypes","listOf","typeChecker","createIterableTypeChecker","List","mapOf","valuesTypeChecker","keysTypeChecker","createMapOfTypeCheckerFactory","Map","isMap","orderedMapOf","OrderedMap","isOrderedMap","setOf","Set","isSet","orderedSetOf","OrderedSet","isOrderedSet","stackOf","Stack","isStack","iterableOf","Iterable","isIterable","recordOf","recordKeys","createChainableTypeChecker","propName","componentName","location","propFullName","_len","arguments","rest","_key","propValue","Record","propType","getPropType","locationName","Error","checker","mutablePropValue","toObject","error","apply","undefined","concat","shape","createShapeChecker","contains","mapContains","shapeTypes","createShapeTypeChecker","list","createImmutableTypeChecker","orderedMap","set","orderedSet","stack","seq","Seq","isSeq","record","isRecord","iterable","RegExp","toSource","split","validate","checkType","chainedCheckType","immutableClassName","immutableClassTypeValidator","propValues","toArray","len","args","keys","keySeq","createKeysTypeChecker","StyledImage","createElement","role","ImagePreviewContent","ImagePreview","src_ImagePreview","ImageControl","netlify_cms_widget_file"],"mappings":"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","file":"dist/netlify-cms-widget-image.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"immutable\"), require(\"prop-types\"), require(\"react-emotion\"), require(\"netlify-cms-ui-default\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"netlify-cms-widget-image\", [\"react\", \"immutable\", \"prop-types\", \"react-emotion\", \"netlify-cms-ui-default\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"netlify-cms-widget-image\"] = factory(require(\"react\"), require(\"immutable\"), require(\"prop-types\"), require(\"react-emotion\"), require(\"netlify-cms-ui-default\"));\n\telse\n\t\troot[\"netlify-cms-widget-image\"] = factory(root[\"react\"], root[\"immutable\"], root[\"prop-types\"], root[\"react-emotion\"], root[\"netlify-cms-ui-default\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"react-emotion\"), require(\"netlify-cms-ui-default\"), require(\"immutable\"), require(\"react-immutable-proptypes\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"netlify-cms-widget-file\", [\"react\", \"prop-types\", \"react-emotion\", \"netlify-cms-ui-default\", \"immutable\", \"react-immutable-proptypes\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"netlify-cms-widget-file\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"react-emotion\"), require(\"netlify-cms-ui-default\"), require(\"immutable\"), require(\"react-immutable-proptypes\"));\n\telse\n\t\troot[\"netlify-cms-widget-file\"] = factory(root[\"react\"], root[\"prop-types\"], root[\"react-emotion\"], root[\"netlify-cms-ui-default\"], root[\"immutable\"], root[\"react-immutable-proptypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport styled from 'react-emotion';\nimport { List } from 'immutable';\nimport uuid from 'uuid/v4';\nimport { lengths, components, buttons } from 'netlify-cms-ui-default';\n\nconst MAX_DISPLAY_LENGTH = 50;\n\nconst ImageWrapper = styled.div`\n  flex-basis: 155px;\n  width: 155px;\n  height: 100px;\n  margin-right: 20px;\n  margin-bottom: 20px;\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: ${lengths.borderRadius};\n`;\n\nconst MultiImageWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst FileInfo = styled.div`\n  button:not(:first-child) {\n    margin-top: 12px;\n  }\n`;\n\nconst FileLink = styled.a`\n  margin-bottom: 20px;\n  font-weight: normal;\n  color: inherit;\n\n  &:hover,\n  &:active,\n  &:focus {\n    text-decoration: underline;\n  }\n`;\n\nconst FileLinkList = styled.ul`\n  list-style-type: none;\n`;\n\nconst FileWidgetButton = styled.button`\n  ${buttons.button};\n  ${components.badge};\n`;\n\nconst FileWidgetButtonRemove = styled.button`\n  ${buttons.button};\n  ${components.badgeDanger};\n`;\n\nfunction isMultiple(value) {\n  return Array.isArray(value) || List.isList(value);\n}\n\nexport default function withFileControl({ forImage } = {}) {\n  return class FileControl extends React.Component {\n    static propTypes = {\n      field: PropTypes.object.isRequired,\n      getAsset: PropTypes.func.isRequired,\n      mediaPaths: ImmutablePropTypes.map.isRequired,\n      onAddAsset: PropTypes.func.isRequired,\n      onChange: PropTypes.func.isRequired,\n      onRemoveInsertedMedia: PropTypes.func.isRequired,\n      onOpenMediaLibrary: PropTypes.func.isRequired,\n      onClearMediaControl: PropTypes.func.isRequired,\n      onRemoveMediaControl: PropTypes.func.isRequired,\n      classNameWrapper: PropTypes.string.isRequired,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    };\n\n    static defaultProps = {\n      value: '',\n    };\n\n    constructor(props) {\n      super(props);\n      this.controlID = uuid();\n    }\n\n    shouldComponentUpdate(nextProps) {\n      /**\n       * Always update if the value changes.\n       */\n      if (this.props.value !== nextProps.value) {\n        return true;\n      }\n\n      /**\n       * If there is a media path for this control in the state object, and that\n       * path is different than the value in `nextProps`, update.\n       */\n      const mediaPath = nextProps.mediaPaths.get(this.controlID);\n      if (mediaPath && nextProps.value !== mediaPath) {\n        return true;\n      }\n\n      return false;\n    }\n\n    componentDidUpdate() {\n      const { mediaPaths, value, onRemoveInsertedMedia, onChange } = this.props;\n      const mediaPath = mediaPaths.get(this.controlID);\n      if (mediaPath && mediaPath !== value) {\n        onChange(mediaPath);\n      } else if (mediaPath && mediaPath === value) {\n        onRemoveInsertedMedia(this.controlID);\n      }\n    }\n\n    componentWillUnmount() {\n      this.props.onRemoveMediaControl(this.controlID);\n    }\n\n    handleChange = e => {\n      const { field, onOpenMediaLibrary, value } = this.props;\n      e.preventDefault();\n      return onOpenMediaLibrary({\n        controlID: this.controlID,\n        forImage,\n        privateUpload: field.get('private'),\n        value,\n        config: field.getIn(['options', 'media_library', 'config']),\n      });\n    };\n\n    handleRemove = e => {\n      e.preventDefault();\n      this.props.onClearMediaControl(this.controlID);\n      return this.props.onChange('');\n    };\n\n    renderFileLink = value => {\n      const size = MAX_DISPLAY_LENGTH;\n      if (!value || value.length <= size) {\n        return value;\n      }\n      const text = `${value.substring(0, size / 2)}\\u2026${value.substring(\n        value.length - size / 2 + 1,\n        value.length,\n      )}`;\n      return (\n        <FileLink href={value} rel=\"noopener\" target=\"_blank\">\n          {text}\n        </FileLink>\n      );\n    };\n\n    renderFileLinks = () => {\n      const { value } = this.props;\n\n      if (isMultiple(value)) {\n        return (\n          <FileLinkList>\n            {value.map(val => (\n              <li key={val}>{this.renderFileLink(val)}</li>\n            ))}\n          </FileLinkList>\n        );\n      }\n      return this.renderFileLink(value);\n    };\n\n    renderImages = () => {\n      const { getAsset, value } = this.props;\n      if (isMultiple(value)) {\n        return (\n          <MultiImageWrapper>\n            {value.map(val => (\n              <ImageWrapper key={val}>\n                <Image src={getAsset(val)} />\n              </ImageWrapper>\n            ))}\n          </MultiImageWrapper>\n        );\n      }\n      return (\n        <ImageWrapper>\n          <Image src={getAsset(value)} />\n        </ImageWrapper>\n      );\n    };\n\n    renderSelection = subject => (\n      <div>\n        {forImage ? this.renderImages() : null}\n        <FileInfo>\n          {forImage ? null : this.renderFileLinks()}\n          <FileWidgetButton onClick={this.handleChange}>\n            Choose different {subject}\n          </FileWidgetButton>\n          <FileWidgetButtonRemove onClick={this.handleRemove}>\n            Remove {subject}\n          </FileWidgetButtonRemove>\n        </FileInfo>\n      </div>\n    );\n\n    renderNoSelection = (subject, article) => (\n      <FileWidgetButton onClick={this.handleChange}>\n        Choose {article} {subject}\n      </FileWidgetButton>\n    );\n\n    render() {\n      const { value, classNameWrapper } = this.props;\n      const subject = forImage ? 'image' : 'file';\n      const article = forImage ? 'an' : 'a';\n\n      return (\n        <div className={classNameWrapper}>\n          <span>\n            {value ? this.renderSelection(subject) : this.renderNoSelection(subject, article)}\n          </span>\n        </div>\n      );\n    }\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'react-emotion';\nimport { List } from 'immutable';\nimport { WidgetPreviewContainer } from 'netlify-cms-ui-default';\n\nconst FileLink = styled(({ value, getAsset }) => (\n  <a href={getAsset(value)} rel=\"noopener noreferrer\" target=\"_blank\">\n    {value}\n  </a>\n))`\n  display: block;\n`;\n\nfunction FileLinkList({ values, getAsset }) {\n  return (\n    <div>\n      {values.map(value => (\n        <FileLink key={value} value={value} getAsset={getAsset} />\n      ))}\n    </div>\n  );\n}\n\nfunction FileContent({ value, getAsset }) {\n  if (Array.isArray(value) || List.isList(value)) {\n    return <FileLinkList values={value} getAsset={getAsset} />;\n  }\n  return <FileLink value={value} getAsset={getAsset} />;\n}\n\nconst FilePreview = props => (\n  <WidgetPreviewContainer>{props.value ? <FileContent {...props} /> : null}</WidgetPreviewContainer>\n);\n\nFilePreview.propTypes = {\n  getAsset: PropTypes.func.isRequired,\n  value: PropTypes.node,\n};\n\nexport default FilePreview;\n","import withFileControl from './withFileControl';\n\nexport { withFileControl };\nexport const FileControl = withFileControl();\nexport FilePreview from './FilePreview';\n","/**\n * This is a straight rip-off of the React.js ReactPropTypes.js proptype validators,\n * modified to make it possible to validate Immutable.js data.\n *     ImmutableTypes.listOf is patterned after React.PropTypes.arrayOf, but for Immutable.List\n *     ImmutableTypes.shape  is based on React.PropTypes.shape, but for any Immutable.Iterable\n */\n\"use strict\";\n\nvar Immutable = require(\"immutable\");\n\nvar ANONYMOUS = \"<<anonymous>>\";\n\nvar ImmutablePropTypes = {\n  listOf: createListOfTypeChecker,\n  mapOf: createMapOfTypeChecker,\n  orderedMapOf: createOrderedMapOfTypeChecker,\n  setOf: createSetOfTypeChecker,\n  orderedSetOf: createOrderedSetOfTypeChecker,\n  stackOf: createStackOfTypeChecker,\n  iterableOf: createIterableOfTypeChecker,\n  recordOf: createRecordOfTypeChecker,\n  shape: createShapeChecker,\n  contains: createShapeChecker,\n  mapContains: createMapContainsChecker,\n  // Primitive Types\n  list: createImmutableTypeChecker(\"List\", Immutable.List.isList),\n  map: createImmutableTypeChecker(\"Map\", Immutable.Map.isMap),\n  orderedMap: createImmutableTypeChecker(\"OrderedMap\", Immutable.OrderedMap.isOrderedMap),\n  set: createImmutableTypeChecker(\"Set\", Immutable.Set.isSet),\n  orderedSet: createImmutableTypeChecker(\"OrderedSet\", Immutable.OrderedSet.isOrderedSet),\n  stack: createImmutableTypeChecker(\"Stack\", Immutable.Stack.isStack),\n  seq: createImmutableTypeChecker(\"Seq\", Immutable.Seq.isSeq),\n  record: createImmutableTypeChecker(\"Record\", function (isRecord) {\n    return isRecord instanceof Immutable.Record;\n  }),\n  iterable: createImmutableTypeChecker(\"Iterable\", Immutable.Iterable.isIterable)\n};\n\nfunction getPropType(propValue) {\n  var propType = typeof propValue;\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n  if (propValue instanceof Immutable.Iterable) {\n    return \"Immutable.\" + propValue.toSource().split(\" \")[0];\n  }\n  return propType;\n}\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    propFullName = propFullName || propName;\n    componentName = componentName || ANONYMOUS;\n    if (props[propName] == null) {\n      var locationName = location;\n      if (isRequired) {\n        return new Error(\"Required \" + locationName + \" `\" + propFullName + \"` was not specified in \" + (\"`\" + componentName + \"`.\"));\n      }\n    } else {\n      return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n    }\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createImmutableTypeChecker(immutableClassName, immutableClassTypeValidator) {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + location + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected `\" + immutableClassName + \"`.\"));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createIterableTypeChecker(typeChecker, immutableClassName, immutableClassTypeValidator) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var locationName = location;\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type \" + (\"`\" + propType + \"` supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid typeChecker supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var propValues = propValue.toArray();\n    for (var i = 0, len = propValues.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [propValues, i, componentName, location, \"\" + propFullName + \"[\" + i + \"]\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createKeysTypeChecker(typeChecker) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid keysTypeChecker (optional second argument) supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var keys = propValue.keySeq().toArray();\n    for (var i = 0, len = keys.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [keys, i, componentName, location, \"\" + propFullName + \" -> key(\" + keys[i] + \")\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createListOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"List\", Immutable.List.isList);\n}\n\nfunction createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, immutableClassName, immutableClassTypeValidator) {\n  function validate() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return createIterableTypeChecker(valuesTypeChecker, immutableClassName, immutableClassTypeValidator).apply(undefined, args) || keysTypeChecker && createKeysTypeChecker(keysTypeChecker).apply(undefined, args);\n  }\n\n  return createChainableTypeChecker(validate);\n}\n\nfunction createMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"Map\", Immutable.Map.isMap);\n}\n\nfunction createOrderedMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"OrderedMap\", Immutable.OrderedMap.isOrderedMap);\n}\n\nfunction createSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Set\", Immutable.Set.isSet);\n}\n\nfunction createOrderedSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"OrderedSet\", Immutable.OrderedSet.isOrderedSet);\n}\n\nfunction createStackOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Stack\", Immutable.Stack.isStack);\n}\n\nfunction createIterableOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Iterable\", Immutable.Iterable.isIterable);\n}\n\nfunction createRecordOfTypeChecker(recordKeys) {\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!(propValue instanceof Immutable.Record)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js Record.\"));\n    }\n    for (var key in recordKeys) {\n      var checker = recordKeys[key];\n      if (!checker) {\n        continue;\n      }\n      var mutablePropValue = propValue.toObject();\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\n// there is some irony in the fact that shapeTypes is a standard hash and not an immutable collection\nfunction createShapeTypeChecker(shapeTypes) {\n  var immutableClassName = arguments[1] === undefined ? \"Iterable\" : arguments[1];\n  var immutableClassTypeValidator = arguments[2] === undefined ? Immutable.Iterable.isIterable : arguments[2];\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n    var mutablePropValue = propValue.toObject();\n    for (var key in shapeTypes) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        continue;\n      }\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createShapeChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes);\n}\n\nfunction createMapContainsChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes, \"Map\", Immutable.Map.isMap);\n}\n\nmodule.exports = ImmutablePropTypes;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'react-emotion';\nimport { List } from 'immutable';\nimport { WidgetPreviewContainer } from 'netlify-cms-ui-default';\n\nconst StyledImage = styled(({ getAsset, value }) => (\n  <img src={getAsset(value)} role=\"presentation\" />\n))`\n  display: block;\n  max-width: 100%;\n  height: auto;\n`;\n\nconst ImagePreviewContent = props => {\n  const { value, getAsset } = props;\n  if (Array.isArray(value) || List.isList(value)) {\n    return value.map(val => <StyledImage key={val} value={val} getAsset={getAsset} />);\n  }\n  return <StyledImage {...props} />;\n};\n\nconst ImagePreview = props => {\n  return (\n    <WidgetPreviewContainer>\n      {props.value ? <ImagePreviewContent {...props} /> : null}\n    </WidgetPreviewContainer>\n  );\n};\n\nImagePreview.propTypes = {\n  getAsset: PropTypes.func.isRequired,\n  value: PropTypes.node,\n};\n\nexport default ImagePreview;\n","import { withFileControl } from 'netlify-cms-widget-file';\n\nexport const ImageControl = withFileControl({ forImage: true });\nexport ImagePreview from './ImagePreview';\n"],"sourceRoot":""}
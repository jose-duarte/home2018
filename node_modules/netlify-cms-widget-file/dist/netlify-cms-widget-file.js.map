{"version":3,"sources":["webpack://netlify-cms-widget-file/webpack/universalModuleDefinition","webpack://netlify-cms-widget-file/webpack/bootstrap","webpack://netlify-cms-widget-file/external \"react\"","webpack://netlify-cms-widget-file/external \"prop-types\"","webpack://netlify-cms-widget-file/external \"react-emotion\"","webpack://netlify-cms-widget-file/external \"netlify-cms-ui-default\"","webpack://netlify-cms-widget-file/external \"immutable\"","webpack://netlify-cms-widget-file/external \"react-immutable-proptypes\"","webpack://netlify-cms-widget-file//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/uuid/v4.js","webpack://netlify-cms-widget-file//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/uuid/lib/rng-browser.js","webpack://netlify-cms-widget-file//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/uuid/lib/bytesToUuid.js","webpack://netlify-cms-widget-file/./src/withFileControl.js","webpack://netlify-cms-widget-file/./src/FilePreview.js","webpack://netlify-cms-widget-file/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","rng","bytesToUuid","options","buf","offset","Array","rnds","random","ii","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","Math","byteToHex","toString","substr","bth","join","MAX_DISPLAY_LENGTH","ImageWrapper","external_react_emotion_default","target","Image","external_netlify_cms_ui_default_","borderRadius","MultiImageWrapper","FileInfo","FileLink","FileLinkList","FileWidgetButton","button","badge","FileWidgetButtonRemove","badgeDanger","isMultiple","isArray","external_immutable_","isList","withFileControl","forImage","_class","_temp","external_react_default","a","Component","constructor","props","super","_defineProperty","this","e","_this$props","field","onOpenMediaLibrary","preventDefault","controlID","privateUpload","config","getIn","onClearMediaControl","onChange","size","length","text","substring","createElement","href","rel","map","val","renderFileLink","_this$props2","getAsset","src","subject","renderImages","renderFileLinks","onClick","handleChange","handleRemove","article","v4_default","shouldComponentUpdate","nextProps","mediaPath","mediaPaths","componentDidUpdate","_this$props3","onRemoveInsertedMedia","componentWillUnmount","onRemoveMediaControl","render","_this$props4","classNameWrapper","className","renderSelection","renderNoSelection","external_prop_types_default","isRequired","func","external_react_immutable_proptypes_default","onAddAsset","string","oneOfType","arrayOf","FilePreview_FileLink","FilePreview_FileLinkList","values","FileContent","FilePreview","propTypes","node","src_FilePreview","src_FileControl"],"mappings":"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","file":"dist/netlify-cms-widget-file.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"react-emotion\"), require(\"netlify-cms-ui-default\"), require(\"immutable\"), require(\"react-immutable-proptypes\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"netlify-cms-widget-file\", [\"react\", \"prop-types\", \"react-emotion\", \"netlify-cms-ui-default\", \"immutable\", \"react-immutable-proptypes\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"netlify-cms-widget-file\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"react-emotion\"), require(\"netlify-cms-ui-default\"), require(\"immutable\"), require(\"react-immutable-proptypes\"));\n\telse\n\t\troot[\"netlify-cms-widget-file\"] = factory(root[\"react\"], root[\"prop-types\"], root[\"react-emotion\"], root[\"netlify-cms-ui-default\"], root[\"immutable\"], root[\"react-immutable-proptypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport styled from 'react-emotion';\nimport { List } from 'immutable';\nimport uuid from 'uuid/v4';\nimport { lengths, components, buttons } from 'netlify-cms-ui-default';\n\nconst MAX_DISPLAY_LENGTH = 50;\n\nconst ImageWrapper = styled.div`\n  flex-basis: 155px;\n  width: 155px;\n  height: 100px;\n  margin-right: 20px;\n  margin-bottom: 20px;\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: ${lengths.borderRadius};\n`;\n\nconst MultiImageWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst FileInfo = styled.div`\n  button:not(:first-child) {\n    margin-top: 12px;\n  }\n`;\n\nconst FileLink = styled.a`\n  margin-bottom: 20px;\n  font-weight: normal;\n  color: inherit;\n\n  &:hover,\n  &:active,\n  &:focus {\n    text-decoration: underline;\n  }\n`;\n\nconst FileLinkList = styled.ul`\n  list-style-type: none;\n`;\n\nconst FileWidgetButton = styled.button`\n  ${buttons.button};\n  ${components.badge};\n`;\n\nconst FileWidgetButtonRemove = styled.button`\n  ${buttons.button};\n  ${components.badgeDanger};\n`;\n\nfunction isMultiple(value) {\n  return Array.isArray(value) || List.isList(value);\n}\n\nexport default function withFileControl({ forImage } = {}) {\n  return class FileControl extends React.Component {\n    static propTypes = {\n      field: PropTypes.object.isRequired,\n      getAsset: PropTypes.func.isRequired,\n      mediaPaths: ImmutablePropTypes.map.isRequired,\n      onAddAsset: PropTypes.func.isRequired,\n      onChange: PropTypes.func.isRequired,\n      onRemoveInsertedMedia: PropTypes.func.isRequired,\n      onOpenMediaLibrary: PropTypes.func.isRequired,\n      onClearMediaControl: PropTypes.func.isRequired,\n      onRemoveMediaControl: PropTypes.func.isRequired,\n      classNameWrapper: PropTypes.string.isRequired,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    };\n\n    static defaultProps = {\n      value: '',\n    };\n\n    constructor(props) {\n      super(props);\n      this.controlID = uuid();\n    }\n\n    shouldComponentUpdate(nextProps) {\n      /**\n       * Always update if the value changes.\n       */\n      if (this.props.value !== nextProps.value) {\n        return true;\n      }\n\n      /**\n       * If there is a media path for this control in the state object, and that\n       * path is different than the value in `nextProps`, update.\n       */\n      const mediaPath = nextProps.mediaPaths.get(this.controlID);\n      if (mediaPath && nextProps.value !== mediaPath) {\n        return true;\n      }\n\n      return false;\n    }\n\n    componentDidUpdate() {\n      const { mediaPaths, value, onRemoveInsertedMedia, onChange } = this.props;\n      const mediaPath = mediaPaths.get(this.controlID);\n      if (mediaPath && mediaPath !== value) {\n        onChange(mediaPath);\n      } else if (mediaPath && mediaPath === value) {\n        onRemoveInsertedMedia(this.controlID);\n      }\n    }\n\n    componentWillUnmount() {\n      this.props.onRemoveMediaControl(this.controlID);\n    }\n\n    handleChange = e => {\n      const { field, onOpenMediaLibrary, value } = this.props;\n      e.preventDefault();\n      return onOpenMediaLibrary({\n        controlID: this.controlID,\n        forImage,\n        privateUpload: field.get('private'),\n        value,\n        config: field.getIn(['options', 'media_library', 'config']),\n      });\n    };\n\n    handleRemove = e => {\n      e.preventDefault();\n      this.props.onClearMediaControl(this.controlID);\n      return this.props.onChange('');\n    };\n\n    renderFileLink = value => {\n      const size = MAX_DISPLAY_LENGTH;\n      if (!value || value.length <= size) {\n        return value;\n      }\n      const text = `${value.substring(0, size / 2)}\\u2026${value.substring(\n        value.length - size / 2 + 1,\n        value.length,\n      )}`;\n      return (\n        <FileLink href={value} rel=\"noopener\" target=\"_blank\">\n          {text}\n        </FileLink>\n      );\n    };\n\n    renderFileLinks = () => {\n      const { value } = this.props;\n\n      if (isMultiple(value)) {\n        return (\n          <FileLinkList>\n            {value.map(val => (\n              <li key={val}>{this.renderFileLink(val)}</li>\n            ))}\n          </FileLinkList>\n        );\n      }\n      return this.renderFileLink(value);\n    };\n\n    renderImages = () => {\n      const { getAsset, value } = this.props;\n      if (isMultiple(value)) {\n        return (\n          <MultiImageWrapper>\n            {value.map(val => (\n              <ImageWrapper key={val}>\n                <Image src={getAsset(val)} />\n              </ImageWrapper>\n            ))}\n          </MultiImageWrapper>\n        );\n      }\n      return (\n        <ImageWrapper>\n          <Image src={getAsset(value)} />\n        </ImageWrapper>\n      );\n    };\n\n    renderSelection = subject => (\n      <div>\n        {forImage ? this.renderImages() : null}\n        <FileInfo>\n          {forImage ? null : this.renderFileLinks()}\n          <FileWidgetButton onClick={this.handleChange}>\n            Choose different {subject}\n          </FileWidgetButton>\n          <FileWidgetButtonRemove onClick={this.handleRemove}>\n            Remove {subject}\n          </FileWidgetButtonRemove>\n        </FileInfo>\n      </div>\n    );\n\n    renderNoSelection = (subject, article) => (\n      <FileWidgetButton onClick={this.handleChange}>\n        Choose {article} {subject}\n      </FileWidgetButton>\n    );\n\n    render() {\n      const { value, classNameWrapper } = this.props;\n      const subject = forImage ? 'image' : 'file';\n      const article = forImage ? 'an' : 'a';\n\n      return (\n        <div className={classNameWrapper}>\n          <span>\n            {value ? this.renderSelection(subject) : this.renderNoSelection(subject, article)}\n          </span>\n        </div>\n      );\n    }\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'react-emotion';\nimport { List } from 'immutable';\nimport { WidgetPreviewContainer } from 'netlify-cms-ui-default';\n\nconst FileLink = styled(({ value, getAsset }) => (\n  <a href={getAsset(value)} rel=\"noopener noreferrer\" target=\"_blank\">\n    {value}\n  </a>\n))`\n  display: block;\n`;\n\nfunction FileLinkList({ values, getAsset }) {\n  return (\n    <div>\n      {values.map(value => (\n        <FileLink key={value} value={value} getAsset={getAsset} />\n      ))}\n    </div>\n  );\n}\n\nfunction FileContent({ value, getAsset }) {\n  if (Array.isArray(value) || List.isList(value)) {\n    return <FileLinkList values={value} getAsset={getAsset} />;\n  }\n  return <FileLink value={value} getAsset={getAsset} />;\n}\n\nconst FilePreview = props => (\n  <WidgetPreviewContainer>{props.value ? <FileContent {...props} /> : null}</WidgetPreviewContainer>\n);\n\nFilePreview.propTypes = {\n  getAsset: PropTypes.func.isRequired,\n  value: PropTypes.node,\n};\n\nexport default FilePreview;\n","import withFileControl from './withFileControl';\n\nexport { withFileControl };\nexport const FileControl = withFileControl();\nexport FilePreview from './FilePreview';\n"],"sourceRoot":""}